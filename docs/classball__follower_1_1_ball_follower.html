<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>exp_assignment3: ball_follower.BallFollower Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">exp_assignment3
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceball__follower.html">ball_follower</a></li><li class="navelem"><a class="el" href="classball__follower_1_1_ball_follower.html">BallFollower</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classball__follower_1_1_ball_follower-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ball_follower.BallFollower Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa7fa0e2893e6cbbe013da04b629eb105"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball__follower_1_1_ball_follower.html#aa7fa0e2893e6cbbe013da04b629eb105">__init__</a> (self)</td></tr>
<tr class="separator:aa7fa0e2893e6cbbe013da04b629eb105"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08f152e4d84669eb1090c647fc3fd41c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball__follower_1_1_ball_follower.html#a08f152e4d84669eb1090c647fc3fd41c">callback_ball_center_radius</a> (self, msg)</td></tr>
<tr class="separator:a08f152e4d84669eb1090c647fc3fd41c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac62bd24663849694eb0d4169aad0f413"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball__follower_1_1_ball_follower.html#ac62bd24663849694eb0d4169aad0f413">callback_follow_ball</a> (self, goal)</td></tr>
<tr class="separator:ac62bd24663849694eb0d4169aad0f413"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a96b0dcc8c61c8ce68c491659fd6ecaf0"><td class="memItemLeft" align="right" valign="top"><a id="a96b0dcc8c61c8ce68c491659fd6ecaf0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ball_visible</b></td></tr>
<tr class="separator:a96b0dcc8c61c8ce68c491659fd6ecaf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f76b9e6b1f3b8579eb66cc39ab19187"><td class="memItemLeft" align="right" valign="top"><a id="a1f76b9e6b1f3b8579eb66cc39ab19187"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ball_center_x</b></td></tr>
<tr class="separator:a1f76b9e6b1f3b8579eb66cc39ab19187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65a424bc74f3eccefb8f46eca0c54c26"><td class="memItemLeft" align="right" valign="top"><a id="a65a424bc74f3eccefb8f46eca0c54c26"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ball_center_y</b></td></tr>
<tr class="separator:a65a424bc74f3eccefb8f46eca0c54c26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9408f6eb98471c2af6fe316edead5b30"><td class="memItemLeft" align="right" valign="top"><a id="a9408f6eb98471c2af6fe316edead5b30"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ball_radius</b></td></tr>
<tr class="separator:a9408f6eb98471c2af6fe316edead5b30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac73ac0de699a90417d4f451b87c67924"><td class="memItemLeft" align="right" valign="top"><a id="ac73ac0de699a90417d4f451b87c67924"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>pub_cmd_vel</b></td></tr>
<tr class="separator:ac73ac0de699a90417d4f451b87c67924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a802217c73eccb79e0c490b2da163ce27"><td class="memItemLeft" align="right" valign="top"><a id="a802217c73eccb79e0c490b2da163ce27"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>sub_ball</b></td></tr>
<tr class="separator:a802217c73eccb79e0c490b2da163ce27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4d22151db9ee458abac1165cf5a2be0"><td class="memItemLeft" align="right" valign="top"><a id="ae4d22151db9ee458abac1165cf5a2be0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>server</b></td></tr>
<tr class="separator:ae4d22151db9ee458abac1165cf5a2be0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">BallFollower class makes the robot follow the ball

...by publishing appropriate velocity commands. Image based visual servoing
is implemented: the node knows from a subscribed topic
(camera1/ball_center_radius) the position and the size of the ball in the
image frame. From this information the node computes an angular and linear
velocity such that the ball will be located in the image center with a
specified size (-&gt; distance)

Note: No obstacle avoidance is implemented! We assume, that there are no 
obstacles in the way, if we can see the ball, which is strictly speaking
not always true.    

This node contains 4 ROS communication interfaces:
    pub_cmd_vel: Publisher to topic "cmd_vel"
    sub_ball: Subscriber to topic "camera1/ball_center_radius"
    server: Action server "follow_ball" to activate ball following
        (can be cancelled)
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa7fa0e2893e6cbbe013da04b629eb105"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7fa0e2893e6cbbe013da04b629eb105">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ball_follower.BallFollower.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Init members for computation
</pre> 
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a08f152e4d84669eb1090c647fc3fd41c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08f152e4d84669eb1090c647fc3fd41c">&#9670;&nbsp;</a></span>callback_ball_center_radius()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ball_follower.BallFollower.callback_ball_center_radius </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">callback to update ball position and radius
</pre> 
</div>
</div>
<a id="ac62bd24663849694eb0d4169aad0f413"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac62bd24663849694eb0d4169aad0f413">&#9670;&nbsp;</a></span>callback_follow_ball()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ball_follower.BallFollower.callback_follow_ball </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>goal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Action callback, when follow_ball is activated

This function runs for a long time, as long as the action
is active. 

It computes the angular and linear velocities to make the
ball appear in the image center.

Args:
    goal (EmptyGoal): unused but required
</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>catkin_ws/src/exp_assignment3_pkg/scripts/ball_follower.py</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
